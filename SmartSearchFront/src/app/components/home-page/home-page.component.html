<div class="homepage">
  <!-- кнопка открыть историю -->
  <app-rating-button 
    (buttonClick)="onRatingButtonClick()"
    class="rating-button"
  ></app-rating-button>

  <!-- Поисковая строка -->
  <app-search-line 
    (searchResults)="onSearchResults($event)"
    (searchStarted)="onSearchStarted()"
    (searchError)="onSearchError($event)"
    (suggestionSelected)="onSuggestionSelected($event)"
  ></app-search-line>

  <!-- Индикатор загрузки -->
  <div *ngIf="isSearching" class="loading">
    ⏳ Идет поиск...
  </div>

  <!-- Сообщение об ошибке -->
  <div *ngIf="searchError" class="error">
    ❌ {{ searchError }}
  </div>

  <!-- Результаты поиска в новом формате -->
  <div *ngIf="searchResponse && getTotalResultsCount() > 0 && !pageIsChosen" class="search-results">
    <!-- <h3 class="results-title">Найдено результатов: {{ getTotalResultsCount() }}</h3> -->
    
    <!-- Реестровые записи -->
    <!-- <div *ngIf="searchResponse.registry_records.length > 0" class="result-section">
      <h4>Реестровые записи ({{ searchResponse.registry_records.length }})</h4>
      <div class="results-grid">
        <div *ngFor="let record of searchResponse.registry_records" class="result-card">
          <a (click)="onSuggestionSelected(record)">
            <h4 class="result-title">
              {{ getRecordType(record) }}
            </h4>
          </a>
          <p class="result-preview">{{ getRegistryPreview(record) }}</p>
          <div class="result-footer">
            <span class="result-id">
              ID: {{ getRecordId(record) }}
            </span>
          </div>
        </div>
      </div>
    </div> -->

    <!-- База знаний -->
    <!-- <div *ngIf="searchResponse.knowledge_base_articles.length > 0" class="result-section">
      <h4>База знаний ({{ searchResponse.knowledge_base_articles.length }})</h4>
      <div class="results-grid">
        <div *ngFor="let article of searchResponse.knowledge_base_articles" class="result-card">
          <a (click)="onSuggestionSelected(article)">
            <h4 class="result-title">Статья базы знаний</h4>
          </a>
          <p class="result-preview">{{ article.text }}</p>
          <div class="result-footer">
            <a [href]="article.link" target="_blank" class="result-link">Открыть ссылку</a>
          </div>
        </div>
      </div>
    </div> -->

    <!-- Действия -->
    <!-- <div *ngIf="searchResponse.intents" class="result-section">
      <h4>Действие</h4>
      <div class="results-grid">
        <div class="result-card">
          <a (click)="onSuggestionSelected(searchResponse.intents)">
            <h4 class="result-title">{{ searchResponse.intents.name }}</h4>
          </a>
          <p class="result-preview">Системное действие</p>
        </div>
      </div>
    </div>
  </div> -->

  <!-- Модальное окно с таблицей оценок -->
  <!-- <div *ngIf="showRatingTable" class="rating-overlay">
    <div class="rating-modal">
      <div class="modal-header">
        <h2>Оценка ответов</h2>
        <button class="close-button" (click)="showRatingTable = false">✕</button>
      </div>
      <div class="modal-content">
        <app-query-response-table
          [data]="queryResponses"
          (ratingChange)="onRatingChange($event)"
        ></app-query-response-table>
      </div>
    </div>
  </div> -->

  <!-- Компонент страницы информации (если нужно) -->
</div>